# 内部排序

## 1、排序的定义

给定一个序列的记录 R1 , R2 , … , Rn，它们对应的关键字依次是k1 , k2 ,… , kn , 调整记录在序列中的次序得到新的记录序列 Rs1,Rs2,…,Rsn，使得记录的关键字满足以下性质： ks1 ≤ ks2 ≤  …≤ ksn. 



### 1.1 稳定的排序算法

排序的过程不会改变具有相等关键字的记录的相对先后次序。 

![1586790380701](C:\Users\wonde\AppData\Roaming\Typora\typora-user-images\1586790380701.png)

## 2、内部排序与外部排序

内部排序指的是待排序记录存放在计算机随机存储器中进行的排序过程。

外部排序指的是待排序记录的数量很大，以致于内存一次不能容纳全部记录，在排序过程中尚需对外存进行访问的排序过程。



## 3、三种简单排序算法

### 3.1 插入排序

在升序排列中，顺序遍历数组，将第i个元素与第i-1到第1个元素比较，如果小于则不断向前插入。

### 3.2 冒泡排序

在升序排列中，（与插入排序相反）倒序从第n-1个元素开始比较，直到第1个元素，不断向上冒泡。

### 3.3 选择排序

在选择排序中，第i次排序就是从位置属于【i，n-1】的元素中选出最小的元素，将其和第i位置上的元素交换。

### 3.4 三种排序的开销比较

|          | 插入   | 冒泡   | 选择   |
| -------- | ------ | ------ | ------ |
| 最好情况 | O(n)   | O(n^2) | O(n^2) |
| 平均情况 | O(n^2) | O(n^2) | O(n^2) |
| 最坏情况 | O(n^2) | O(n^2) | O(n^2) |



## 4、希尔排序

思路：

1）将原始序列划分为更短的子序列

2）对每个子序列分别进行插入排序

3）对整个序列进行插入排序

注意：

1）子序列的构成不是简单地”逐段分割“

2）相隔某个”增量“的记录组成一个子序列

3）时间复杂度：和增量序列相关

4）当增量序列为 [k]=2^(t-k+1)-1 时，算法复杂度为O(n^3/2).  其中t是排序的次数，1<=k<=t.



## 5、快速排序

理解快速排序，想象为不断地划分序列，同时进行排序。直到划分到每个序列只有一个数据。

思路：

1）选择一个记录的值作为支点pivot;

2）使用该支点划分存储记录的序列（排序）: 将小于支点的记录安排在支点左侧，将大于等于支点的记录安排在右侧，从而将原序列划分为左右两个子序列

3）使用递归，以及非递归的方法优化



## 6、归并排序

1）将一个序列划分为两个长度相等的子序列，然后递归地对每个子序列进行归并排序

2）将排序好的两个子序列归并为一个有序的序列



## 7、堆排序

1）将数组元素建堆

2）不断提取堆顶最大值或者最小值，得到了排序数组

