## 进程和线程的区别

## 1、简述区别

进程和线程，是不同的操作系统资源管理方式。严格来说，线程属于进程。

每一个进程都有独立的地址空间，一个进程崩溃不影响其他进程。而线程只是一个进程中不同的执行路径，线程的死掉会导致同地址空间的整个进程死掉。这里线程有自己的堆栈和局部变量，但线程没有独立的地址空间。

所以多进程的程序比多线程的程序更稳定，但进程的切换耗费更多资源，效率会差一些。如果对于一些要求同时进程并且又要共享某些变量的并发操作，只能用多线程。

1) 简而言之,一个程序至少有一个进程,一个进程至少有一个线程.

2) 线程的划分尺度小于进程，使得多线程程序的并发性高。

3) 另外，进程在执行过程中拥有独立的内存单元，而多个线程共享内存，从而极大地提高了程序的运行效率。

4) 线程在执行过程中与进程还是有区别的。每个独立的线程有一个程序运行的入口、顺序执行序列和程序的出口。但是线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制。

5) 从逻辑角度来看，多线程的意义在于一个应用程序中，有多个执行部分可以同时执行。但操作系统并没有将多个线程看做多个独立的应用，来实现进程的调度和管理以及资源分配。这就是进程和线程的重要区别。



## 2、进程的概念

进程是程序在计算机上的一次执行活动。当你运行一个程序，你就启动了一个进程。显然，程序只是一组指令的有序集合，它本身没有任何运行的含义，只是一个静态实体。

而线程则不同，它是程序在某个数据集上的执行，是一个动态实体。它因创建而产生，因调度而运行，因等待资源或事件而被处于等待状态，因完成任务而被撤消，反映了一个程序在一定的数据集上运行的全部动态过程。

进程是操作系统分配资源的单位。在Windows下，进程又被细化为线程，也就是一个进程下有多个能独立运行的更小的单位。

线程(Thread)是进程的一个实体，是CPU调度和分派的基本单位。线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制。



## 3、CPU支持进程的并发

我们通常使用的计算机中只有一个CPU，也就是说只有一颗心，要让它一心多用，同时运行多个进程，就必须使用并发技术。

实现并发技术相当复杂，最容易理解的是**“时间片轮转进程调度算法”**。

它的思想简单介绍如下：在操作系统的管理下，所有正在运行的进程轮流使用CPU，每个进程允许占用CPU的时间非常短(比如10毫秒)，这样用户根本感觉不出来CPU是在轮流为多个进程服务，就好象所有的进程都在不间断地运行一样。但实际上在任何一个时间内有且仅有一个进程占有CPU。

对于多核CPU来说，如果进程数小于CPU数，则不同的进程可以分配给不同的CPU来运行。这样，多个进程就是真正同时运行的，这便是并行。但如果进程数大于CPU数，则仍然需要使用并发技术。



## 4、CPU支持线程运行

在Windows中，进行CPU分配是以线程为单位的，一个进程可能由多个线程组成，这时情况更加复杂，但简单地说，有如下关系：

总线程数<= CPU数量：并行运行

总线程数> CPU数量：并发运行

并行运行的效率显然高于并发运行，所以在多CPU的计算机中，多任务的效率比较高。但是，如果在多CPU计算机中只运行一个进程(线程)，就不能发挥多CPU的优势。

 多任务操作系统(如Windows)的基本原理是: 操作系统将CPU的时间片分配给多个线程, 每个线程在操作系统指定的时间片内完成(注意, 这里的多个线程是分属于不同进程的)。

操作系统不断的从一个线程的执行切换到另一个线程的执行,如此往复。宏观上看来,就好像是多个线程在一起执行。由于这多个线程分属于不同的进程, 因此在我们看来, 就好像是多个进程在同时执行, 这样就实现了多任务。



## 参考

https://blog.csdn.net/mxsgoden/article/details/8821936